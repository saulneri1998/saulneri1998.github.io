(this["webpackJsonpstyle-transfer"]=this["webpackJsonpstyle-transfer"]||[]).push([[0],{57:function(e,t,r){e.exports=r(92)},92:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),l=r(26),c=r.n(l),o=r(38),i=r(101),s=r(95),u=r(97),m=r(100),d=r(94),p=function(){return n.a.createElement(d.a,{as:"h1",size:"2xl",color:"purple.600"},"ml5 Style Transfer")},g=r(12),b=r.n(g),h=r(33),f=r(2),j=r(49),E=r(54),v=r(9),x=Object(v.b)({key:"imageSize",default:{width:0,height:0}}),O=Object(v.b)({key:"styleModel",default:"wave"}),w=Object(v.b)({key:"outputImage",default:null}),y=Object(v.b)({key:"inputImage",default:null}),k=Object(v.b)({key:"isLoading",default:!1});var C=function(){var e=Object(v.c)(x),t=Object(f.a)(e,2)[1],r=Object(v.c)(k),l=Object(f.a)(r,2)[1],c=Object(v.c)(y),o=Object(f.a)(c,2),i=o[0],u=o[1],m=Object(a.useCallback)((function(e){var r=e[0],a=new FileReader;a.onabort=function(){return console.log("file reading was aborted")},a.onerror=function(){return console.log("file reading has failed")},a.onload=function(e){(function(e,t){return new Promise(function(){var r=Object(h.a)(b.a.mark((function r(a){var n;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:(n=new Image).src=t.target.result,n.onload=function(){var t=document.createElement("canvas"),r=t.getContext("2d"),l=250/(n.width>n.height?n.width:n.height);t.width=n.width*l,t.height=n.height*l,r.drawImage(n,0,0,t.width,t.height);var c=t.toDataURL(e.type);a([c,{width:t.width,height:t.height}])};case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())})(r,e).then((function(e){var r=Object(f.a)(e,2),a=r[0],n=r[1];u(a),t(n),l(!0)}))},a.readAsDataURL(r)}),[t,u,l]),p=Object(E.a)({onDrop:m}),g=p.getRootProps,O=p.getInputProps,w=null==i?n.a.createElement("p",null,"Arrastra una imagen, o haz click para seleccionar"):n.a.createElement("img",{src:i,alt:"input_image"});return n.a.createElement(s.a,{textAlign:"center"},n.a.createElement(d.a,{shadow:"sm"},"Sube una imagen!"),n.a.createElement(j.a,Object.assign({},g(),{height:300,align:"center",justify:"center",bg:"gray.200",color:"gray.500",border:"1px",borderRadius:"lg",borderColor:"gray.400"}),n.a.createElement("input",O()),w))},_=r(96),z=function(){var e=Object(v.c)(O),t=Object(f.a)(e,2),r=t[0],a=t[1],l=function(e){var t=e.target.getAttribute("value");a(t)};return n.a.createElement(s.a,{textAlign:"center"},n.a.createElement(d.a,{shadow:"sm"},"Selecciona un modelo!"),n.a.createElement(j.a,{flexWrap:"wrap",height:300,bg:"purple.200",p:"20px",borderRadius:"lg"},n.a.createElement(_.a,{value:"wave",onClick:l,border:"wave"===r?"2px":0,borderColor:"purple.600",m:"10px",size:"110px",rounded:"lg",src:"/projects/style_transfer/models_images/wave.jpg"}),n.a.createElement(_.a,{value:"udnie",onClick:l,border:"udnie"===r?"2px":0,borderColor:"purple.600",m:"10px",size:"110px",borderRadius:"lg",src:"/projects/style_transfer/models_images/udnie.jpg"}),n.a.createElement(_.a,{value:"fuchun",onClick:l,border:"fuchun"===r?"2px":0,borderColor:"purple.600",m:"10px",size:"110px",borderRadius:"lg",src:"/projects/style_transfer/models_images/fuchun.jpg"}),n.a.createElement(_.a,{value:"rain_princess",onClick:l,border:"rain_princess"===r?"2px":0,borderColor:"purple.600",m:"10px",size:"110px",borderRadius:"lg",src:"/projects/style_transfer/models_images/rain_princess.jpg"}),n.a.createElement(_.a,{value:"scream",onClick:l,border:"scream"===r?"2px":0,borderColor:"purple.600",m:"10px",size:"110px",borderRadius:"lg",src:"/projects/style_transfer/models_images/scream.jpg"})))},R=r(98),S=r(50),I=r.n(S),A=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),r=t[0],l=t[1],c=Object(a.useState)(null),o=Object(f.a)(c,2),i=o[0],s=o[1],u=Object(v.d)(O),m=Object(v.d)(y),d=Object(v.c)(w),p=Object(f.a)(d,2)[1],g=Object(v.c)(k),b=Object(f.a)(g,2)[1];Object(a.useEffect)((function(){I.a.styleTransfer("/projects/style_transfer/models/"+u).then((function(e){l(!0),s(e)})).catch((function(e){return console.log("Error:",e)}))}),[u]);return n.a.createElement(R.a,{size:"lg",variantColor:"purple",variant:"outline",isDisabled:!(r&&m),onClick:function(){var e=new Image;e.src=m,i.transfer(e).then((function(e){p(e.src),b(!1)})).catch((function(e){return console.log("Error:",e)}))}},"Generar")},D=r(56),W=function(){var e=Object(v.d)(w),t=Object(v.d)(x),r=Object(v.d)(k),a=function(){return r?n.a.createElement(D.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"purple.500",size:"xl"}):null!=e?n.a.createElement(_.a,{src:e,htmlWidth:t.width,htmlHeight:t.height,alt:"output"}):n.a.createElement(n.a.Fragment,null)};return n.a.createElement(j.a,{id:"output_image",align:"center",justify:"center",p:10},n.a.createElement(a,null))},L=r(3),M=r(99),P=Object(L.a)(Object(L.a)({},M.a),{},{breakpoints:["30em","48em","62em","80em"],fonts:{heading:'"Avenir Next", sans-serif',body:"system-ui, sans-serif",mono:"Menlo, monospace"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"4rem"}});var B=function(){return n.a.createElement(o.a,{theme:P},n.a.createElement(i.a,null),n.a.createElement(v.a,null,n.a.createElement(s.a,{p:10},n.a.createElement(p,null),n.a.createElement(u.a,null),n.a.createElement(m.a,{columns:2,spacing:30},n.a.createElement(C,null),n.a.createElement(z,null)),n.a.createElement(A,null),n.a.createElement(W,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.1c641a21.chunk.js.map